@import "tailwindcss";

/* ===============================
   DESIGN TOKENS
   =============================== */
@theme {
  --radius-pill: 999px;

  --shadow-glass:
    inset 0 1px 0 rgba(255,255,255,0.25),
    0 18px 50px rgba(0,0,0,0.35);

  --shadow-glow:
    0 0 40px color-mix(in oklab, var(--primary) 65%, transparent);
}

/* ===============================
   THEME SYSTEM (SOURCE OF TRUTH)
   =============================== */
:root {
  --t: 0;

  --primary: color-mix(
    in oklab,
    #7c7cff calc((1 - var(--t)) * 100%),
    #6366f1 calc(var(--t) * 100%)
  );

  --text: color-mix(
    in oklab,
    #e5e7eb calc((1 - var(--t)) * 100%),
    #0f172a calc(var(--t) * 100%)
  );
}

/* ===============================
   LIVING SKY (NIGHT ‚Üí DAY)
   =============================== */
body {
  position: relative; /* üîí creates stacking context */

  --sun-y: calc(120% - var(--t) * 90%);
  --sun-o: calc(var(--t));
  --moon-o: calc(1 - var(--t));
  --stars-o: calc(1 - var(--t));

  background:
    /* ‚òÄÔ∏è SUN */
    radial-gradient(
      260px 260px at 50% var(--sun-y),
      rgba(255,210,120,var(--sun-o)),
      rgba(255,210,120,0.15) 45%,
      transparent 70%
    ),

    /* üåô MOON */
    radial-gradient(
      160px 160px at 18% 18%,
      rgba(200,220,255,calc(var(--moon-o) * 0.9)),
      transparent 65%
    ),

    /* üåå SKY */
    linear-gradient(
      180deg,
      color-mix(
        in oklab,
        #040614 calc((1 - var(--t)) * 100%),
        #9ed0ff calc(var(--t) * 100%)
      ) 0%,

      color-mix(
        in oklab,
        #0b1026 calc((1 - var(--t)) * 100%),
        #dbeeff calc(var(--t) * 100%)
      ) 55%,

      color-mix(
        in oklab,
        #02030d calc((1 - var(--t)) * 100%),
        #ffffff calc(var(--t) * 100%)
      ) 100%
    );

  min-height: 100vh;
  color: var(--text);

  transition:
    background 1.2s cubic-bezier(.22,1,.36,1),
    color 0.6s ease;
}

/* ===============================
   STARS (BACKGROUND ONLY)
   =============================== */
/* ===============================
   STARS (DEEP NIGHT SKY)
   =============================== */
/* ===============================
   STARS (DENSE + REALISTIC)
   =============================== */
/* ===============================
   STARS (GLOW + DEPTH)
   =============================== */
/* ===============================
   STARS (BIG, GLOWING, NOTICEABLE)
   =============================== */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  /* night only */
  opacity: calc((1 - var(--t)) * 1);

  background:
    /* FAR STARS (small but glowing) */
    radial-gradient(2px 2px at 6% 12%, rgba(255,255,255,0.9), rgba(255,255,255,0.15) 40%, transparent 70%),
    radial-gradient(2px 2px at 18% 78%, rgba(255,255,255,0.85), rgba(255,255,255,0.15) 40%, transparent 70%),
    radial-gradient(2px 2px at 32% 34%, rgba(255,255,255,0.9), rgba(255,255,255,0.15) 40%, transparent 70%),
    radial-gradient(2px 2px at 46% 88%, rgba(255,255,255,0.8), rgba(255,255,255,0.12) 40%, transparent 70%),
    radial-gradient(2px 2px at 60% 22%, rgba(255,255,255,0.9), rgba(255,255,255,0.15) 40%, transparent 70%),
    radial-gradient(2px 2px at 74% 66%, rgba(255,255,255,0.85), rgba(255,255,255,0.15) 40%, transparent 70%),
    radial-gradient(2px 2px at 88% 40%, rgba(255,255,255,0.9), rgba(255,255,255,0.15) 40%, transparent 70%),

    /* MID STARS */
    radial-gradient(3px 3px at 14% 26%, rgba(255,255,255,1), rgba(255,255,255,0.25) 45%, transparent 75%),
    radial-gradient(3px 3px at 28% 62%, rgba(255,255,255,0.95), rgba(255,255,255,0.22) 45%, transparent 75%),
    radial-gradient(3px 3px at 52% 44%, rgba(255,255,255,0.95), rgba(255,255,255,0.22) 45%, transparent 75%),
    radial-gradient(3px 3px at 70% 18%, rgba(255,255,255,0.9), rgba(255,255,255,0.22) 45%, transparent 75%),
    radial-gradient(3px 3px at 82% 74%, rgba(255,255,255,0.95), rgba(255,255,255,0.22) 45%, transparent 75%),

    /* BRIGHT STARS (FOCAL POINTS) */
    radial-gradient(4.5px 4.5px at 20% 14%, rgba(255,255,255,1), rgba(255,255,255,0.35) 45%, transparent 80%),
    radial-gradient(4.5px 4.5px at 48% 28%, rgba(220,230,255,1), rgba(220,230,255,0.35) 45%, transparent 80%),
    radial-gradient(4.5px 4.5px at 76% 22%, rgba(255,245,220,1), rgba(255,245,220,0.35) 45%, transparent 80%),
    radial-gradient(4.5px 4.5px at 90% 78%, rgba(255,255,255,1), rgba(255,255,255,0.35) 45%, transparent 80%);

  animation: stars-twinkle 5.5s ease-in-out infinite;
}



/* ===============================
   SUBTLE TWINKLE (NOT DISTRACTING)
   =============================== */
@keyframes stars-twinkle {
  0% {
    opacity: calc((1 - var(--t)) * 0.65);
  }
  50% {
    opacity: calc((1 - var(--t)) * 1);
  }
  100% {
    opacity: calc((1 - var(--t)) * 0.7);
  }
}




/* ===============================
   ATMOSPHERIC HAZE (DEPTH)
   =============================== */
/* ===============================
   ATMOSPHERIC HAZE + MILKY WAY
   =============================== */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  /* fades out during day */
  opacity: calc(var(--t) * 0.5 + (1 - var(--t)) * 0.6);

  background:
    /* üåå MILKY WAY BAND */
    radial-gradient(
      1200px 260px at 50% 45%,
      rgba(255,255,255,0.08),
      rgba(180,200,255,0.04) 35%,
      rgba(120,140,200,0.025) 55%,
      transparent 70%
    ),

    /* secondary offset dust */
    radial-gradient(
      1000px 220px at 55% 50%,
      rgba(255,255,255,0.05),
      rgba(160,180,240,0.03) 40%,
      transparent 65%
    ),

    /* üå´Ô∏è general atmospheric glow */
    radial-gradient(
      1000px 500px at 50% 60%,
      rgba(255,255,255,0.18),
      transparent 65%
    );
}
  
/* ===============================
   GLASS UI SYSTEM
   =============================== */
.glass-btn {
  border-radius: var(--radius-pill);
  background:
    linear-gradient(
      180deg,
      rgba(255,255,255,0.18),
      rgba(255,255,255,0.05)
    );
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border: 1px solid rgba(255,255,255,0.25);
  box-shadow: var(--shadow-glass);
  transition: 0.25s cubic-bezier(.22,1,.36,1);
}

.glass-btn:hover {
  box-shadow: var(--shadow-glass), var(--shadow-glow);
  transform: translateY(-1px);
}

.glass-btn:active {
  transform: scale(0.97);
}

/* ===============================
   TEXT SAFETY
   =============================== */
.text-muted {
  color: color-mix(in oklab, var(--text) 65%, transparent);
}

/* ===============================
   SCROLL SAFETY
   =============================== */
.scroll-glass {
  overflow-y: auto;
  overflow-x: hidden;
}

/* ===============================
   GLOBAL INTERACTION SAFETY
   =============================== */
* {
  -webkit-user-drag: none;
}
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.2);
  border-radius: 999px;
}

:root {
  --volume-glow: 0px;
}

/* Volume slider */
.volume-slider {
  appearance: none;
  height: 6px;
  border-radius: 999px;

  background:
    linear-gradient(
      to right,
      var(--primary) 0%,
      var(--primary) var(--fill),
      rgba(255,255,255,0.25) var(--fill),
      rgba(255,255,255,0.25) 100%
    );

  outline: none;
  cursor: pointer;
  transition: background 0.2s ease;
}

/* THUMB */
.volume-slider::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: white;

  box-shadow:
    0 0 0 4px rgba(255,255,255,0.15),
    0 4px 12px rgba(0,0,0,0.25);

  transition: transform 0.15s ease;
}

.volume-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}
/* ===============================
   PROGRESS RING STABILITY FIX
   =============================== */

/* Prevent abrupt fade when parent animates */
.progress-ring,
.progress-ring svg {
  opacity: 1;
  transition:
    opacity 0.35s ease,
    stroke-dashoffset 0.4s ease,
    stroke-width 0.35s ease;
  will-change: opacity, stroke-dashoffset, stroke-width;
}

/* Ensure SVG does not visually "snap" during motion */
.progress-ring svg {
  isolation: isolate;
}

/* Smooth ring exit during focus mode transitions */
.progress-ring circle {
  transition:
    stroke-dashoffset 0.4s ease,
    stroke-width 0.35s ease,
    stroke 0.35s ease;
}
